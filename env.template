# Foundry VTT MCP Server Configuration
# Copy this file to .env and update with your values

# ============================================================================
# Foundry Connection
# ============================================================================
# Host and port where Foundry VTT is running
FOUNDRY_HOST=localhost
FOUNDRY_PORT=31415
FOUNDRY_NAMESPACE=/foundry-mcp

# Connection settings
FOUNDRY_RECONNECT_ATTEMPTS=5
FOUNDRY_RECONNECT_DELAY=1000
FOUNDRY_CONNECTION_TIMEOUT=10000
FOUNDRY_CONNECTION_TYPE=auto  # auto, websocket, or webrtc
FOUNDRY_PROTOCOL=ws  # ws or wss
FOUNDRY_REMOTE_MODE=false

# ============================================================================
# ComfyUI Configuration
# ============================================================================
# Choose ONE of the following options:

# --- Option 1: RunPod Serverless (Recommended for remote use) ---
# Enable this for RunPod serverless ComfyUI endpoints
RUNPOD_ENABLED=true
RUNPOD_API_KEY=rpa_YOUR_API_KEY_HERE
RUNPOD_ENDPOINT_ID=your_endpoint_id
RUNPOD_API_URL=https://api.runpod.ai/v2/your_endpoint_id

# --- Option 2: Direct ComfyUI URL (for RunPod pod or other remote ComfyUI) ---
# COMFYUI_REMOTE_URL=https://your-pod-hash.proxy.runpod.net

# --- Option 3: Local ComfyUI ---
# COMFYUI_HOST=127.0.0.1
# COMFYUI_PORT=31411
# COMFYUI_PATH=/path/to/ComfyUI
# COMFYUI_AUTO_START=true

# ============================================================================
# S3 Storage Configuration
# ============================================================================
# Configure S3 bucket for storing generated battlemaps
# If using RunPod, images are initially uploaded to RunPod's S3
# Configure this to re-upload to your own bucket for permanent storage

S3_BUCKET=your-bucket-name
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=YOUR_ACCESS_KEY_ID
S3_SECRET_ACCESS_KEY=YOUR_SECRET_ACCESS_KEY

# Optional: CDN URL for faster image delivery
# S3_PUBLIC_BASE_URL=https://cdn.yourdomain.com

# ============================================================================
# Logging
# ============================================================================
LOG_LEVEL=info  # error, warn, info, debug
LOG_FORMAT=simple  # simple or json
ENABLE_FILE_LOGGING=false
# LOG_FILE_PATH=/path/to/logfile.log

# ============================================================================
# Server
# ============================================================================
SERVER_NAME=foundry-mcp-server
SERVER_VERSION=1.0.0

# ============================================================================
# WebRTC Configuration (for remote connections)
# ============================================================================
# FOUNDRY_STUN_SERVERS=stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302

# ============================================================================
# Example Configurations
# ============================================================================

# --- Remote Setup with RunPod Serverless ---
# FOUNDRY_HOST=foundry.yourdomain.com
# FOUNDRY_PORT=31415
# FOUNDRY_REMOTE_MODE=true
# RUNPOD_ENABLED=true
# RUNPOD_API_KEY=rpa_xxx
# RUNPOD_ENDPOINT_ID=pnto5no6s7j0c9
# S3_BUCKET=rime-of-the-frostmaiden
# S3_ACCESS_KEY_ID=AKIA...
# S3_SECRET_ACCESS_KEY=...

# --- Local Setup with Local ComfyUI ---
# FOUNDRY_HOST=localhost
# FOUNDRY_PORT=31415
# COMFYUI_HOST=127.0.0.1
# COMFYUI_PORT=31411
# COMFYUI_PATH=/home/user/ComfyUI
# COMFYUI_AUTO_START=true

